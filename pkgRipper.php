<?php
 goto lWAtx; FWaML: require __DIR__ . "\x2f\144\157\143\x6f\x70\x74\56\160\150\160"; goto Zvt68; rRaUO: if (!is_file("\x67\x65\x6e\147\x70\x34\137\141\x70\x70\56\x65\x78\145")) { echo "\x1b\x5b\x39\61\155\147\x65\x6e\x67\160\x34\137\141\160\x70\x2e\x65\x78\x65\x20\x66\151\x6c\x65\x20\151\163\40\x6e\145\145\x64\x65\144\x21\41"; echo "\x1b\x5b\x39\61\x6d\104\157\167\156\154\x6f\141\144\x20\120\x53\64\55\x46\x61\153\145\x2d\120\113\x47\55\x54\x6f\157\154\163\40\146\x72\157\155\x20\x49\156\164\145\162\x6e\x65\x74"; echo "\33\x5b\63\71\x6d"; die; } goto YkjkZ; yCtno: function liveExecuteCommand($cmd) { while (@ob_end_flush()) { } $proc = popen($cmd, "\162"); while (!feof($proc)) { echo fread($proc, 4096); @flush(); } } goto U8Kks; xiOrZ: foreach ($result as $k => $v) { echo $k . "\72\x20" . json_encode($v) . PHP_EOL; } goto HweZF; Zvt68: $doc = "\120\x6b\x67\x52\x69\x70\160\145\162\40\141\x70\160\154\151\x65\163\x20\160\x61\164\x63\150\145\x73\40\x74\x6f\40\171\x6f\x75\x72\x20\x6f\x77\156\40\120\x53\64\40\120\153\147\40\x5b\106\x49\114\x45\135\56\x20\x54\150\151\163\x20\x70\x61\164\x63\x68\x65\163\40\x61\154\x6c\x6f\167\40\171\x6f\165\40\x74\157\x20\x72\x65\x6d\x6f\x76\145\40\x75\156\156\145\x63\x65\x73\x61\162\171\40\x63\157\x6e\x74\145\x6e\x74\x2e\xa\120\141\164\143\150\145\x73\x20\x6d\165\x73\x74\40\142\x65\40\x73\164\157\x72\145\163\x20\151\156\x20\x74\150\x65\40\x70\141\x74\x63\150\x65\x73\x20\x66\157\154\144\145\x72\40\x61\x6e\144\x20\120\x6b\x67\122\x69\160\160\145\x72\40\141\x75\x74\x6f\x64\x65\x74\x65\x63\164\x20\167\x69\x63\x68\40\x70\x61\164\x63\x68\x65\163\x20\143\141\156\x20\x62\x65\40\141\x70\x70\x6c\x69\145\144\40\x74\x6f\40\x79\x6f\165\162\40\x70\153\147\x20\146\x69\x6c\145\x2e\12\x55\x73\x61\x67\x65\x3a\12\x20\x20\x70\153\x67\122\x69\160\x70\145\162\x2e\145\170\145\40\x5b\x46\111\x4c\x45\x5d\xa\117\160\x74\x69\157\x6e\163\x3a\12\40\x20\x2d\150\x20\55\55\150\x65\154\160\x20\x20\x20\40\40\x20\x20\x20\40\x20\x20\x20\40\40\40\40\163\150\157\167\x20\x74\150\151\163\40\x68\x65\154\x70\x20\x6d\145\163\x73\x61\147\x65\x20\x61\x6e\x64\x20\145\170\151\x74\12\x20\40\55\x2d\166\145\162\x73\151\x6f\156\x20\40\40\x20\x20\x20\40\40\x20\x20\40\x20\40\x20\40\40\163\x68\157\167\40\x76\x65\x72\x73\151\157\x6e\x20\x61\x6e\x64\x20\145\170\151\x74"; goto U5VSP; YkjkZ: if (!is_file("\x6f\162\x62\151\163\x2d\x70\165\x62\x2d\x63\x6d\x64\x2e\145\170\x65")) { echo "\33\133\71\x31\155\x6f\x72\142\x69\163\x2d\160\x75\142\x2d\143\155\x64\x2e\145\170\x65\x20\x66\151\x6c\145\40\x69\163\x20\x6e\x65\x65\144\x65\x64\x21\41"; echo "\33\133\x39\x31\155\x44\x6f\167\156\x6c\157\x61\x64\40\120\123\64\55\x46\141\x6b\145\x2d\120\113\x47\55\x54\157\157\154\163\x20\146\x72\157\155\x20\111\156\164\x65\x72\x6e\145\164"; echo "\33\133\x33\x39\155"; die; } goto J1mCD; y7IMy: echo "\x1b\x5b\71\67\x6d"; goto xiOrZ; o7ftx: if (isset($argc) && $argc == 2) { $imgInfo = shell_exec("\x6f\162\x62\151\x73\x2d\160\x75\x62\55\143\x6d\x64\56\x65\x78\x65\x20\x69\x6d\x67\137\151\x6e\x66\157\x20{$argv["\61"]}"); $imgInfoArray = explode("\12", $imgInfo); foreach ($imgInfoArray as $imgEntry) { if (strpos($imgEntry, "\103\157\x6e\164\x65\156\x74\x20\111\104\72") === 0) { $contentId = trim(explode("\72", $imgEntry)[1]); } if (strpos($imgEntry, "\124\x69\164\154\x65\x20\111\104\x3a") === 0) { $titleId = trim(explode("\x3a", $imgEntry)[1]); } if (strpos($imgEntry, "\124\x69\x74\x6c\145\40\116\141\155\x65\x20\x28\144\145\x66\x61\x75\154\x74\x29\72") === 0) { $title = trim(explode("\x3a", $imgEntry, 2)[1]); } if (strpos($imgEntry, "\x41\x70\x70\x6c\151\143\x61\164\x69\157\156\40\126\x65\162\163\x69\x6f\156\50\x41\120\120\x5f\x56\x45\x52\x29\x3a") === 0) { $version = trim(explode("\72", $imgEntry)[1]); } } echo "\33\133\x39\x32\155\55\x2d\x2d\x2d\55\x2d\x2d\x2d\55\x2d\x2d\55\55\55\x2d\55\x2d\x2d\55\55\x2d\55\55\x2d\x2d\55\55\55\x2d\55\x2d\55\55\55\55\55\55\x2d\x2d\55\x2d\x2d\x2d\55"; echo "\12\11\x50\113\107\x20\104\105\x54\x45\x43\x54\105\104\x21\xa"; echo "\11\x1b\133\71\67\x6d\124\x69\164\154\145\x3a\40{$title}\12"; echo "\x9\x43\x6f\156\x74\x65\x6e\164\40\x49\x44\72\x20{$contentId}\12"; echo "\x9\x54\x69\x74\x6c\145\40\x49\x44\x3a\x20{$titleId}\12"; echo "\x9\120\153\x67\40\166\145\162\163\x69\x6f\x6e\72\x20{$version}\12"; echo "\33\133\71\x32\155\55\55\55\x2d\55\55\x2d\x2d\55\x2d\55\55\x2d\x2d\55\x2d\55\x2d\55\x2d\x2d\55\x2d\55\55\x2d\x2d\x2d\55\55\55\x2d\55\x2d\x2d\x2d\55\55\55\55\x2d\55\x2d\x2d\xa"; if (is_dir("\56\57\160\x61\x74\x63\x68\x65\163\57{$contentId}")) { } else { echo "\33\x5b\x39\61\155\x4e\x6f\x20\160\141\x74\x68\x20\146\157\x75\x6e\144\x20\x77\151\x74\150\40\x70\x61\x74\143\150\x65\163\40\x66\157\162\40{$title}\x21\41\x21\12"; echo "\33\133\71\61\155\124\150\x65\40\x66\x6f\x6c\144\x65\x72\40\160\x61\164\143\x68\145\x73\x2f{$contentId}\x20\x6d\x75\163\164\40\145\170\151\x74\163\12"; echo "\x1b\x5b\63\71\x6d"; die; } if (!is_dir_empty("\164\x65\155\160\57{$contentId}")) { echo "\33\133\71\61\155\124\x68\145\x20\146\x6f\154\x64\145\x72\40\x74\145\155\x70\x2f{$contentId}\x20\151\163\40\116\x4f\x54\40\x65\155\160\x74\171\56\40\x49\164\x20\x63\141\x6e\40\147\145\x6e\145\162\141\x74\145\x20\x77\x72\157\156\147\x20\162\145\x73\x75\154\x74\163\41\xa\x1b\x5b\71\x37"; } $availablePatches = array_diff(scandir("\x2e\x2f\160\x61\164\x63\x68\145\163\57{$contentId}"), array("\x2e", "\x2e\56")); $patchIndex = 1; echo "\12\x1b\133\71\x37\155\x5b\x31\x2f\x37\x5d\40\33\x5b\x39\62\x6d\120\x61\x74\143\150\40\x73\145\154\145\x63\x74\x69\157\156\12"; echo "\x1b\133\71\62\155\x2d\55\55\55\x2d\55\55\x2d\55\55\55\x2d\x2d\x2d\x2d\55\x2d\x2d\x2d\x2d\x2d\55\12\x1b\133\x39\67\x6d"; $patches = array(); foreach ($availablePatches as $availablePatch) { $xml = simplexml_load_string(file_get_contents("\x2e\57\160\x61\x74\143\x68\145\163\57{$contentId}\57{$availablePatch}"), "\123\x69\155\160\154\145\130\115\114\x45\x6c\x65\x6d\x65\x6e\x74", LIBXML_NOCDATA); $json = json_encode($xml); $xmlArray = json_decode($json, TRUE); foreach ($xmlArray["\x70\x61\x74\143\150\145\x73"]["\x70\x61\164\143\x68"] as $xmlPatch) { $patchReqVersion = $xmlPatch["\100\x61\164\x74\162\151\x62\x75\164\145\x73"]["\x70\153\x67\137\x72\x65\x71\165\x69\162\x65\x64\x5f\x76\x65\x72\163\x69\x6f\156"]; if ($patchReqVersion === $version) { $patches[$patchIndex] = $xmlArray; echo "{$patchIndex}\56\40\160\141\164\143\x68\145\x73\x2f{$contentId}\x2f{$availablePatch}\x3a\xa"; echo "\11" . $xmlArray["\160\x61\x74\143\150\111\x6e\x66\x6f"]["\x40\x61\x74\164\162\151\142\x75\x74\145\x73"]["\144\x65\163\x63\162\x69\x70\x74\151\x6f\156"] . "\xa"; $patchIndex++; break; } } } do { echo "\12\x53\x65\x6c\x65\143\164\x20\164\x68\x65\x20\x70\x61\164\x63\x68\40\x74\157\x20\x61\x70\x70\x6c\171\x3a\xa"; $patchSelected = fgets(STDIN); } while (intval($patchSelected) == 0 || intval($patchSelected) >= $patchIndex); $patchSelected = intval($patchSelected); echo "\12\x50\141\x74\143\x68\40{$patchSelected}\40\163\145\x6c\x65\143\x74\145\144\xa"; do { echo "\12\x1b\133\x39\x37\155\133\x32\57\67\x5d\40\33\x5b\71\62\x6d\x56\x65\x72\x73\x69\157\x6e\x20\x73\x65\154\145\143\164\x69\157\156\12"; echo "\x1b\133\x39\x32\x6d\55\55\55\x2d\55\55\x2d\x2d\x2d\x2d\55\x2d\55\55\55\55\55\55\55\55\x2d\x2d\55\x2d\12\33\133\71\x37\x6d"; echo "\33\133\71\61\155\123\145\x6c\x65\x63\x74\x20\164\150\145\x20\154\141\x74\x65\163\164\40\x75\x70\144\x61\x74\x65\40\144\x6f\x20\x79\157\165\x20\150\x61\x76\x65\40\x69\x6e\40\x6f\x72\x64\145\162\x20\x74\157\40\x72\x65\155\157\x76\145\40\143\157\x6e\x74\x65\x6e\164\163\40\x66\162\x6f\155\x20\171\157\x75\x72\40\x50\x4b\x47\x20\x63\157\162\x72\x65\143\164\154\x79\x21\12\12\x1b\x5b\x39\67\155"; $patchVersionIndex = 1; foreach ($patches[$patchSelected]["\x70\141\164\x63\x68\145\163"]["\160\141\x74\143\x68"] as $xmlPatch) { $patchReqVersion = $xmlPatch["\100\141\x74\164\162\x69\142\165\x74\145\x73"]["\x70\153\147\137\162\145\x71\x75\x69\162\145\144\137\166\x65\x72\163\x69\157\156"]; if ($patchReqVersion === $version) { echo "{$patchVersionIndex}\56\x20" . $xmlPatch["\100\141\x74\164\162\151\x62\x75\164\x65\x73"]["\165\x70\x64\x61\164\x65\x5f\166\x65\x72\163\x69\157\x6e\137\162\x65\x71\x75\151\x72\x65\144"] . "\72\xa"; echo "\11" . $xmlPatch["\100\x61\x74\x74\x72\x69\142\165\164\145\163"]["\x64\145\163\143\x72\x69\x70\x74\151\157\x6e"] . "\12"; $patchVersionIndex++; } } echo "\12\x57\x69\x63\150\x20\x69\x73\40\164\x68\x65\40\154\141\163\164\x20\x75\160\x64\141\x74\145\x20\166\145\x72\163\x69\157\156\x20\x70\153\147\x20\144\157\x20\x79\157\x75\x20\x68\x61\166\x65\x3f\x3a\12"; $patchVersionSelected = fgets(STDIN); } while (intval($patchVersionSelected) == 0 || intval($patchVersionSelected) >= $patchVersionIndex); $patchVersionSelected = intval($patchVersionSelected); if (!is_dir("\164\x65\x6d\160\57{$contentId}\x2f")) { if (!mkdir("\x74\x65\155\160\57{$contentId}\x2f", 511, true)) { echo "\x1b\133\71\x31\155\106\x61\154\x6c\x6f\40\x61\x6c\40\143\162\x65\x61\x72\x20\154\141\x73\x20\143\141\x72\x70\145\164\x61\x73\x2e\x2e\x2e"; echo "\x1b\x5b\63\x39\x6d"; die; } } echo "\xa\x1b\x5b\71\x37\x6d\133\x33\57\x37\x5d\40\33\133\x39\x32\155\105\170\164\x72\x61\x63\164\151\x6e\147\40{$argv["\x31"]}\40\146\151\x6c\x65\x20\164\x6f\x20\164\x65\x6d\160\x2f{$contentId}\72\12"; echo "\x1b\133\x39\62\155\55\55\55\55\x2d\x2d\x2d\x2d\x2d\55\55\55\x2d\55\x2d\55\x2d\55\55\x2d\x2d\55\55\55\x2d\55\55\55\x2d\x2d\x2d\55\x2d\x2d\55\x2d\55\55\55\x2d\55\x2d\55\x2d\x2d\x2d\x2d\x2d\55\55\55\55\55\55\x2d\x2d\12\33\133\71\67\x6d"; echo "\x1b\x5b\x39\61\x6d\124\150\x69\x73\40\157\x70\145\162\x61\x74\151\157\156\x20\155\x61\x79\40\x74\141\x6b\145\x20\x6d\151\x6e\x75\x74\145\x73\40\x1b\133\63\71\155"; $extractingInfo = shell_exec("\x6f\x72\x62\151\x73\55\x70\165\142\55\x63\155\144\56\x65\x78\x65\40\151\x6d\147\137\x65\170\164\162\x61\x63\164\40\x2d\x2d\x70\141\x73\x73\143\x6f\x64\x65\40\x30\60\x30\x30\x30\60\60\60\60\x30\x30\x30\60\x30\x30\60\x30\60\60\x30\x30\60\60\60\x30\60\x30\x30\x30\60\60\60\40{$argv["\x31"]}\40\x74\x65\x6d\x70\57{$contentId}\57"); recurse_copy("\x74\x65\155\x70\x2f{$contentId}\57\x53\143\x30", "\164\145\155\x70\57{$contentId}\x2f\x49\x6d\x61\147\145\60\x2f\x73\x63\x65\137\x73\x79\x73"); echo "\33\x5b\x39\62\155\117\x4b\12\33\133\x33\x39\155"; echo "\12\x1b\133\71\67\155\133\64\57\67\135\x20\x1b\133\71\62\x6d\101\x70\160\x6c\171\151\x6e\147\x20\x70\141\x74\x63\150\x20\x74\157\x20\164\x68\x65\x20\145\x78\164\162\141\164\145\x64\x20\160\x6b\147\x3a\12"; echo "\x1b\133\x39\x32\x6d\x2d\55\x2d\x2d\55\x2d\x2d\55\x2d\55\55\x2d\55\x2d\55\55\x2d\x2d\55\55\x2d\x2d\55\x2d\x2d\55\x2d\x2d\x2d\55\x2d\55\x2d\x2d\55\55\55\x2d\55\x2d\x2d\55\x2d\x2d\55\x2d\x2d\55\55\55\55\x2d\55\x2d\x2d\x2d\xa\x1b\x5b\71\x37\x6d"; $patchVersionIndex = 1; foreach ($patches[$patchSelected]["\160\x61\x74\143\150\145\x73"]["\160\141\164\x63\x68"] as $xmlPatch) { $patchReqVersion = $xmlPatch["\x40\x61\164\164\162\x69\142\165\x74\145\163"]["\x70\153\147\x5f\162\145\161\x75\x69\162\x65\144\137\166\x65\162\163\x69\157\156"]; if ($patchReqVersion === $version) { if ($patchVersionSelected === $patchVersionIndex) { if (array_key_exists("\146\x69\x6c\x65", $xmlPatch)) { foreach ($xmlPatch["\146\x69\154\x65"] as $patchFile) { $f = @fopen("\x74\x65\155\160\x2f{$contentId}\57\x49\x6d\141\x67\x65\x30\x2f" . $patchFile["\100\141\x74\164\x72\x69\x62\x75\x74\x65\163"]["\x70\x61\x74\150"], "\x72\x2b"); if ($f !== false) { ftruncate($f, 0); fclose($f); } echo "\x1b\x5b\71\x31\x6d\56"; } break; } } $patchVersionIndex++; } } echo "\33\133\71\x32\155\117\113\12\33\x5b\63\x39\155"; if ($version == "\x30\x31\56\x30\x30") { rename("\x74\145\155\160\x2f{$contentId}\57\x49\155\x61\147\145\60", "\164\145\x6d\160\57{$contentId}\x2f{$titleId}\x2d\x61\x70\x70"); echo "\12\x1b\x5b\71\67\x6d\133\x35\57\67\x5d\40\33\x5b\71\62\155\103\x72\x65\x61\x74\x69\x6e\x67\x20\x67\x70\64\x20\x66\151\x6c\x65\40\x74\145\x6d\x70\57{$contentId}\x2f{$titleId}\55\x61\160\x70\x2e\x67\160\x34\12"; echo "\33\x5b\71\62\155\x2d\55\x2d\55\55\x2d\x2d\x2d\x2d\55\x2d\55\x2d\55\55\55\55\x2d\55\x2d\55\55\55\x2d\55\x2d\x2d\x2d\55\x2d\x2d\x2d\x2d\55\55\55\x2d\x2d\55\x2d\55\x2d\x2d\x2d\x2d\55\x2d\55\x2d\x2d\x2d\x2d\55\55\x2d\55\xa\x1b\x5b\71\67\155"; $extractingInfo = exec("\147\145\x6e\147\x70\64\137\141\x70\x70\56\x65\170\x65\40\164\145\155\160\57{$contentId}\x2f{$titleId}\x2d\x61\x70\x70"); $str = file_get_contents("\164\145\155\160\x2f{$contentId}\57{$titleId}\x2d\141\x70\x70\x2e\x67\160\64"); $str = str_replace("\x74\145\x6d\x70\x2f{$contentId}\57", '', $str); file_put_contents("\x74\145\155\x70\57{$contentId}\57{$titleId}\x2d\x61\160\160\x2e\147\x70\64", $str); echo "\33\x5b\x39\x32\x6d\117\113\xa\x1b\133\x33\71\x6d"; if (!is_dir("\157\x75\x74\160\165\x74\x2f{$contentId}\57")) { if (!mkdir("\157\x75\164\x70\165\164\57{$contentId}\x2f", 511, true)) { echo "\33\x5b\71\x31\x6d\106\141\154\x6c\157\x20\x61\x6c\x20\x63\x72\145\141\162\x20\x6c\x61\x73\x20\x63\141\162\x70\x65\164\x61\163\x2e\56\x2e"; echo "\x1b\133\x33\71\155"; die; } } echo "\12\33\x5b\71\x37\x6d\x5b\x36\x2f\67\x5d\x20\33\x5b\x39\62\155\x52\x65\143\x72\145\141\164\151\156\147\40\x69\155\x61\x67\145\12"; echo "\x1b\133\x39\62\155\55\x2d\x2d\x2d\x2d\x2d\x2d\x2d\x2d\x2d\x2d\55\55\x2d\55\55\x2d\x2d\55\x2d\x2d\55\55\x2d\x2d\55\x2d\55\x2d\55\55\55\x2d\x2d\55\55\55\55\55\55\55\55\x2d\55\x2d\x2d\55\x2d\x2d\55\55\55\x2d\x2d\x2d\x2d\xa\33\133\x39\67\x6d"; $extractingInfo = liveExecuteCommand("\x6f\x72\142\151\x73\55\x70\x75\x62\x2d\x63\x6d\x64\x2e\145\x78\x65\40\x69\155\x67\x5f\x63\x72\145\x61\x74\145\40\55\x2d\157\x66\x6f\x72\155\x61\164\x20\160\153\x67\x20\164\x65\155\160\x2f{$contentId}\x2f{$titleId}\x2d\141\160\160\x2e\147\160\x34\x20\x6f\x75\164\x70\x75\x74\57{$contentId}\57"); echo "\xa\33\x5b\x39\62\x6d\117\113\12\x1b\x5b\x33\x39\155"; echo "\xa\x1b\133\x39\x37\x49\x6d\x61\147\x65\x20\x63\162\x65\141\x74\145\144\x20\165\156\144\x65\x72\40\x6f\165\x74\160\165\x74\x2f{$contentId}\x2f\40\x66\x6f\x6c\x64\145\162\12\x1b\133\x33\x39\x6d"; unlink("\164\x65\155\160\57{$contentId}\x2f{$titleId}\x2d\x61\160\160\56\x67\160\64"); rrmdir("\x74\x65\155\160\x2f{$contentId}\x2f{$titleId}\55\141\x70\x70"); rrmdir("\164\145\155\x70\57{$contentId}\57\x53\143\60"); echo "\xa\x1b\133\x39\x37\155\133\67\x2f\67\135\40\33\133\x39\62\155\x52\x65\x6d\x6f\x76\x69\156\x67\40\164\145\x6d\160\157\x72\141\154\40\146\151\x6c\145\163\xa"; echo "\33\133\x39\x32\155\x2d\55\55\x2d\55\x2d\55\55\x2d\x2d\55\x2d\x2d\x2d\x2d\55\x2d\55\55\55\55\x2d\55\x2d\x2d\55\x2d\x2d\55\55\55\55\55\x2d\x2d\55\x2d\x2d\55\x2d\x2d\x2d\x2d\55\x2d\55\x2d\x2d\55\55\55\x2d\55\55\55\x2d\12\x1b\133\71\67\x6d"; echo "\12\x1b\133\71\62\x6d\117\113\12\x1b\133\x33\x39\155"; echo "\33\x5b\71\x31\155\x49\x66\40\171\157\x75\40\150\x61\x76\x65\40\141\156\171\40\x75\160\144\141\164\145\x20\x6f\x66\40\x74\150\151\163\40\147\x61\x6d\145\x20\171\157\x75\40\x6d\165\x73\x74\x20\x72\x65\155\141\x72\x72\171\40\x74\150\x65\x20\165\x70\144\x61\x74\145\x20\x77\x69\164\150\x20\164\x68\x65\x20\142\x61\x73\x65\x20\x70\x6b\147\56\x20\x53\x69\155\160\x6c\x79\x20\154\141\165\x6e\x63\150\40\160\x6b\147\122\151\160\160\x65\162\x20\x75\160\144\141\x74\145\x2e\x70\153\x67"; echo "\x1b\x5b\63\x39\x6d"; } else { rename("\164\x65\155\x70\57{$contentId}\57\111\155\141\147\x65\60", "\164\x65\x6d\160\57{$contentId}\x2f{$titleId}\x2d\x70\141\x74\x63\150"); if (is_file("\x74\145\x6d\x70\x2f{$contentId}\x2f{$titleId}\x2d\160\x61\x74\143\150\57\163\x63\145\137\x73\x79\x73\x2f\141\x70\160\57\x70\154\x61\171\x67\x6f\x2d\x63\150\x75\x6e\153\56\x64\141\164")) { copy("\164\x65\155\x70\x2f{$contentId}\57{$titleId}\x2d\x70\141\x74\143\150\57\x73\143\145\x5f\163\171\163\57\141\x70\160\x2f\x70\x6c\141\x79\x67\x6f\x2d\x63\150\x75\x6e\153\x2e\144\141\164", "\x74\x65\155\160\57{$contentId}\x2f{$titleId}\x2d\160\141\164\x63\x68\x2f\x73\143\145\x5f\x73\x79\x73\57\x70\154\141\x79\x67\157\55\143\150\x75\156\153\56\144\x61\164"); rrmdir("\164\145\x6d\x70\x2f{$contentId}\x2f{$titleId}\x2d\160\x61\164\143\150\x2f\x73\143\145\137\163\171\x73\57\x61\160\x70"); } do { echo "\12\33\x5b\71\67\x6d\x57\150\145\162\x65\40\x69\163\x20\x74\150\x65\40\142\141\x73\x65\x2e\x70\x6b\147\x20\x74\157\x20\154\151\156\153\40\x77\151\164\150\40\x28\146\165\x6c\154\x20\x70\x61\164\x68\x29\x3f\x3a\12"; $basePkgFullPath = trim(fgets(STDIN)); } while (!is_file($basePkgFullPath) && !strpos($basePkgFullPath, "\160\x6b\x67") > 0); echo "\xa\x1b\133\71\x37\155\x5b\x35\x2f\x37\x5d\x20\x1b\x5b\71\62\155\x43\x72\145\141\x74\x69\156\147\x20\147\160\x34\x20\x66\151\x6c\x65\x20\x74\x65\x6d\x70\x2f{$contentId}\x2f{$titleId}\x2d\160\x61\x74\143\150\x2e\147\x70\x34\xa"; echo "\33\133\71\62\x6d\55\55\55\55\x2d\x2d\x2d\55\55\55\55\x2d\55\x2d\x2d\x2d\55\x2d\x2d\55\x2d\x2d\x2d\x2d\55\55\55\x2d\55\x2d\x2d\x2d\x2d\55\x2d\55\x2d\x2d\x2d\x2d\x2d\55\55\x2d\55\x2d\55\55\55\55\55\55\x2d\x2d\55\55\12\33\x5b\71\x37\155"; $extractingInfo = exec("\147\x65\156\147\x70\x34\x5f\141\x70\x70\x2e\x65\x78\145\x20\x74\145\155\160\57{$contentId}\x2f{$titleId}\55\x70\141\164\x63\150"); $str = file_get_contents("\x74\145\x6d\160\57{$contentId}\x2f{$titleId}\55\x70\x61\164\143\150\56\147\x70\x34"); $str = str_replace("\74\77\x78\x6d\x6c\40\166\145\162\163\x69\x6f\156\75\x22\61\x2e\61\x22", "\74\x3f\170\x6d\154\x20\166\x65\x72\x73\x69\x6f\x6e\75\42\61\56\x30\x22", $str); file_put_contents("\164\145\155\x70\x2f{$contentId}\57{$titleId}\55\x70\141\164\x63\150\56\x67\160\x34", $str); $xml = simplexml_load_string(file_get_contents("\x74\x65\155\160\57{$contentId}\x2f{$titleId}\x2d\x70\x61\x74\143\x68\x2e\x67\x70\64"), "\x53\151\155\160\x6c\x65\x58\115\114\105\154\145\x6d\145\x6e\x74", LIBXML_NOCDATA); $xml->volume->package["\x61\x70\x70\137\x70\x61\x74\x68"] = $basePkgFullPath; file_put_contents("\164\145\155\x70\57{$contentId}\57{$titleId}\x2d\x70\141\x74\143\150\56\147\160\x34", $xml->asXML()); $str = file_get_contents("\164\145\x6d\160\x2f{$contentId}\57{$titleId}\55\160\141\164\x63\150\56\147\x70\x34"); $str = str_replace("\x3c\x3f\x78\x6d\x6c\40\x76\145\x72\163\151\157\156\x3d\42\x31\56\x30\42", "\74\x3f\x78\155\x6c\x20\166\145\x72\x73\x69\157\156\x3d\x22\61\56\61\x22", $str); file_put_contents("\x74\x65\x6d\160\57{$contentId}\x2f{$titleId}\55\160\x61\x74\143\150\x2e\147\160\64", $str); $str = str_replace("\x74\x65\x6d\160\x2f{$contentId}\57", '', $str); file_put_contents("\x74\x65\155\160\57{$contentId}\57{$titleId}\55\x70\x61\x74\143\x68\56\147\160\x34", $str); echo "\x1b\133\71\x32\x6d\117\113\xa\x1b\x5b\63\71\x6d"; if (!is_dir("\x6f\x75\164\x70\165\164\x2f{$contentId}\x2f")) { if (!mkdir("\157\165\164\160\x75\164\x2f{$contentId}\57", 511, true)) { echo "\33\133\x39\x31\155\x46\141\154\154\157\x20\x61\154\x20\143\x72\145\x61\162\40\x6c\x61\163\x20\143\x61\162\160\145\164\141\x73\56\56\x2e"; echo "\x1b\133\x33\71\x6d"; die; } } echo "\12\33\133\x39\67\x6d\x5b\66\x2f\x37\x5d\x20\33\133\71\x32\155\122\x65\x63\162\145\141\x74\151\156\147\40\x69\155\x61\147\x65\xa"; echo "\x1b\133\x39\x32\155\x2d\55\55\x2d\55\55\55\x2d\55\x2d\x2d\55\x2d\x2d\x2d\x2d\55\55\55\x2d\x2d\55\x2d\x2d\x2d\x2d\55\55\55\55\55\55\55\55\x2d\55\x2d\55\x2d\x2d\x2d\x2d\x2d\x2d\55\55\55\x2d\55\55\55\55\55\x2d\55\55\xa\x1b\x5b\71\67\155"; $extractingInfo = liveExecuteCommand("\157\x72\142\151\x73\55\160\165\x62\55\x63\155\x64\56\145\170\145\x20\151\x6d\147\x5f\143\x72\x65\x61\x74\145\40\x2d\55\x6f\x66\157\162\x6d\x61\164\40\x70\x6b\x67\x20\164\145\x6d\160\x2f{$contentId}\57{$titleId}\x2d\x70\x61\164\143\x68\56\x67\x70\x34\x20\x6f\165\x74\x70\x75\x74\x2f{$contentId}\57"); echo "\12\33\133\x39\62\x6d\x4f\113\xa\x1b\133\x33\71\155"; echo "\xa\x1b\x5b\71\x37\x49\x6d\141\x67\145\x20\143\x72\145\x61\164\145\x64\40\x75\x6e\x64\x65\x72\x20\x6f\165\x74\160\165\164\x2f{$contentId}\57\x20\x66\x6f\x6c\x64\145\162\12\33\x5b\x33\x39\155"; unlink("\x74\x65\x6d\160\x2f{$contentId}\57{$titleId}\55\160\141\x74\143\150\56\147\160\x34"); rrmdir("\x74\145\155\x70\57{$contentId}\57{$titleId}\55\x70\141\x74\x63\x68"); rrmdir("\x74\145\x6d\x70\x2f{$contentId}\x2f\123\x63\60"); echo "\12\33\x5b\x39\67\x6d\133\x37\x2f\x37\x5d\x20\x1b\133\71\62\155\x52\x65\x6d\x6f\166\151\x6e\x67\x20\x74\x65\155\160\x6f\x72\x61\x6c\40\x66\151\154\145\163\12"; echo "\33\x5b\x39\62\x6d\x2d\55\55\55\55\x2d\55\55\x2d\55\x2d\x2d\x2d\55\55\55\x2d\55\x2d\x2d\x2d\55\x2d\55\x2d\x2d\55\55\x2d\55\x2d\x2d\x2d\x2d\x2d\55\x2d\55\55\55\55\x2d\x2d\x2d\x2d\x2d\x2d\x2d\x2d\55\x2d\x2d\55\55\55\55\xa\x1b\133\x39\x37\155"; echo "\12\x1b\x5b\71\62\155\x4f\x4b\12\33\x5b\63\x39\x6d"; } echo "\x1b\x5b\x33\x39\x6d"; } else { echo "\120\141\x73\x73\x20\157\156\145\40\x70\153\x67\x20\x61\163\x20\160\x61\162\141\155\xa"; die; } goto XggR3; HweZF: echo "\x1b\133\x33\71\155"; goto rRaUO; lWAtx: ?>
 <?php  goto FWaML; U5VSP: $result = Docopt::handle($doc, array("\x76\x65\x72\x73\151\157\x6e" => "\60\56\x31")); goto y7IMy; XggR3: function recurse_copy($src, $dst) { $dir = opendir($src); @mkdir($dst); while (false !== ($file = readdir($dir))) { if ($file != "\56" && $file != "\x2e\56") { if (is_dir($src . "\x2f" . $file)) { recurse_copy($src . "\57" . $file, $dst . "\57" . $file); } else { copy($src . "\57" . $file, $dst . "\x2f" . $file); } } } closedir($dir); } goto yCtno; J1mCD: if (!is_file("{$argv["\x31"]}")) { echo "\x1b\x5b\x39\x31\x6d{$argv["\x31"]}\x20\x44\157\x65\163\x20\156\157\164\x20\145\170\x69\x73\164\x73\x21\x21"; echo "\33\133\x33\71\155"; die; } goto o7ftx; U8Kks: function is_dir_empty($dir) { if (!is_readable($dir)) { return null; } return count(scandir($dir)) == 2; } goto RSL2p; RSL2p: function rrmdir($dir) { if (is_dir($dir)) { $objects = scandir($dir); foreach ($objects as $object) { if ($object != "\x2e" && $object != "\x2e\56") { if (filetype($dir . "\x2f" . $object) == "\x64\151\x72") { rrmdir($dir . "\x2f" . $object); } else { unlink($dir . "\57" . $object); } } } reset($objects); rmdir($dir); } }